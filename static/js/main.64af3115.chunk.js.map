{"version":3,"sources":["assets/defaultAvatar.jpeg","styled-components.ts","components/common.ts","AppStyle.ts","components/Multiplayer/style.ts","components/Multiplayer/AvailablePlayersRoom/style.ts","assets/ThreeBallsLoader.svg","assets/BarsLoader.svg","utils/util.ts","components/Multiplayer/AvailablePlayersRoom/AvailablePlayersRoom.tsx","components/Game/Cell/style.ts","components/Game/Cell/Cell.tsx","components/Game/Board/style.ts","components/Game/Board/Board.tsx","components/Game/style.ts","components/Game/Game.tsx","components/Multiplayer/Multiplayer.tsx","App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","styledComponents","styled","default","css","createGlobalStyle","keyframes","ThemeProvider","withTheme","ContinousTransition","transitionProp","rotate","LowShadow","levitateText","levitateBox","RotateAnimation","LevitateBoxAnimation","LevitateTextAnimation","CSS_whiteTextAndBlackBackground","CSS_blackTextAndWhiteBackground","BasicButton","withConfig","displayName","componentId","_ref","blackTextAndWhiteBackground","concat","_ref2","whiteTextAndBlackBackground","_ref3","levitate","_ref4","isClicked","_ref5","BasicInputField","_ref6","_ref7","_ref8","_ref9","placeholderColor","_ref10","_ref11","_ref12","FlexDiv","_ref13","height","_ref14","width","_ref15","cssStyle","_ref16","fitContainer","_ref17","limitSizeToContainer","_ref18","_ref19","FlexColumnDiv","_ref20","Hcenter","_ref21","Vcenter","FlexRowDiv","_ref22","_ref23","CenteringDiv","attrs","ColoredText","_ref24","color","_ref25","block","_ref26","bold","_ref27","size","_ref28","deviceSizes","desktop","tablet","phone","media","reduce","acc","label","templateStrings","GlobalStyle","_templateObject","Theme","primaryColor","primaryColorInverted","bgColor","playerOneColor","playerTwoColor","AppWrapper","cs","_templateObject2","CloseButton","PopUpContainer","PopUp","_templateObject3","MultiPlayer","style_templateObject","Avatar","img","AvatarAndTextContainer","JoiningForm","NameInput","AvailablePlayersAndWaitingAndRequestsContainer","style_templateObject2","Player","backgroundColor","AvailablePlayerAvatar","PlayerLine","InviteOrAcceptorRejectButton","actionType","BarsLoaderWrapper","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","ThreeBallsLoader_ref","react_default","a","createElement","cx","cy","r","attributeName","from","to","begin","dur","values","calcMode","repeatCount","fillOpacity","ThreeBallsLoader_ref3","ThreeBallsLoader_SvgComponent","props","viewBox","fill","BarsLoader_extends","BarsLoader_ref","y","rx","BarsLoader_ref2","x","BarsLoader_ref3","BarsLoader_ref5","BarsLoader_SvgComponent","shuffleArray","array","j","Math","floor","random","ModernColors","colorNameGenerator","regenerator_default","mark","_callee","colorsArray","wrap","_context","prev","next","stop","getNewColor","value","ChangeColors","timeInMs","_len","elementRefs","Array","_key","map","elementRef","setInterval","current","style","setColor","AvailablePlayersRoom","_this$props","availablePlayers","rejectPlayerRequest","acceptPlayerRequest","connectionStatus","invitePlayer","requests","Fragment","player","socketID","src","avatar","utils","name","status","has","onClick","React","Component","Cell","isInWinningPosition","handlePlayerMove","cellValue","Board","Overlay","waitForOpponentMove","Row","div","renderCell","cellID","_this","boardState","gameResult","resultType","winningCellPositions","includes","Game_Cell_Cell","style_Board","PlayerSymbol","PlayerType","Game","Game_style_templateObject","History","Game_style_templateObject2","Move","TextMessageTypes","classCallCheck","possibleConstructorReturn","getPrototypeOf","togglePlayer","Player1","Player2","getSymbolOfPlayer","symbol","recordMoveInHistory","newBoardState","nextPlayer","_this$state","state","history","moveInHistory","historyTillNow","Map","currMoveNo","newHistory","set","setState","moveBySelf","currentPlayer","_this$state2","symbolOfCurrPlayer","gameMode","GameMode","sendPlayerMoveCellIDToOpponent","slice","result","checkForWinDrawNeither","lines","_lines$i","slicedToArray","cellA","cellB","cellC","winningPlayer","winningSymbol","checkForDraw","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","err","return","goBackToMove","moveNum","playBySelf","prevGameState","get","sendRestartSignalToOpponent","selfName","opponentName","selfAvatar","opponentAvatar","player1Name","isSelfPlayer1","symbolOfSelf","X","O","symbolOfOpponent","player2Name","selfPlayerType","opponentPlayerType","colorForSelf","theme","colorForOpponent","gameStatusMessage","_this2","_this$state3","style_Game","style_Avatar","Game_Board_Board","keys","Multiplayer","basicButtonRef","createRef","nameInputRef","multiPlayerRef","gameComponentChild","defaultPlaceholder","onErrorPlaceholder","isInitiator","sendQueue","dataChannel","selectedOpponent","defaultAvatarImage","defaultAvatarImg","handleInputChange","event","_event$currentTarget","currentTarget","currentOutgoingTextMessage","handleEnter","outgoingTextMessage","type","OutgoingTextMessage","sendDataToRemotePeer","handleJoinRoomClick","handleSendTextMessageButton","getAvatarBasedOnUserName","asyncToGenerator","userID","response","blob","base64img","fetch","avatarServerAddress","sent","ok","Error","clone","statusText","URL","createObjectURL","abrupt","_x","_callee2","_context2","placeholderForPlayerNameEle","console","log","t0","showPopUp","JSON","stringify","avatarImage","socket","io","socketServerAddress","path","on","connected","registerToSocketEvents","emit","resp","code","isInAvailablePlayersRoom","message","playerThatRejected","peerConn","close","ipaddr","msg","offer","remotePlayerName","remotePlayerSocketID","peerSignal","candidate","prevState","requestsFromPlayers","processSignalFromRemotePeer","signal","answer","reason","sendOfferToRemotePeerViaSignallingServer","sendCandidateToRemotePeerViaSignallingServer","sendAnswerToRemotePeerViaSignallingServer","_callee3","callerSessionDescription","localSessionDesc","calleeSessionDescription","iceCandidate","_context3","RTCSessionDescription","setRemoteDescription","createAnswer","setLocalDescription","localDescription","t1","t2","RTCIceCandidate","addIceCandidate","t3","_x2","handleICECandidateEvent","candidateSignal","toJSON","handleNegotiationNeededEvent","_callee4","localSessionDescription","_context4","createOffer","createPeerConnection","config","RTCPeerConnection","onicecandidate","onnegotiationneeded","createDataChannel","onDataChannelCreated","ondatachannel","channel","onopen","onerror","onclose","allTextMessages","onmessage","evt","payload","parse","data","IncomingTextMessage","availablePlayer","sendRejectionResponseToPeers","peersToReject","updatedRequests","forEach","peerSocketID","delete","filter","readyState","push","send","shift","playerMoveCellID","handleQuitMatchAndGoBackToAvailablePool","showGameAndChat","components_Game_Game","ref","showAvailablePlayersRoom","availablePlayersExceptSelf","id","requestsArray","entries","requestsMap","Multiplayer_AvailablePlayersRoom_AvailablePlayersRoom","process","setIntervalIds","intervalID","clearInterval","showJoiningForm","isConnectedWithOpponent","autoFocus","placeholder","onKeyUp","onChange","App","popUpValue","closePopUp","gameModeSelectionButtonHandler","mode","showViewBasedOnGameMode","components_Multiplayer_Multiplayer","popUpView","s","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.64af3115.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.038c96e8.jpeg\";","import * as styledComponents from \"styled-components\";\nimport { ThemedStyledComponentsModule } from \"styled-components\";\nimport ThemeInterface from \"./theme\";\n\nconst {\n  default: styled,\n  css,\n  createGlobalStyle,\n  keyframes,\n  ThemeProvider,\n  withTheme\n} = styledComponents as ThemedStyledComponentsModule<ThemeInterface>;\n\nexport { css, createGlobalStyle, keyframes, ThemeProvider, withTheme};\nexport default styled;","import styled, {keyframes, css} from '../styled-components'\nimport { PlayerType } from './Game/Game';\n\nexport const ContinousTransition = (transitionProp : string) => css`\n  transition-property: ${transitionProp};\n  transition-duration: 1s;\n  transition-delay: 0s;\n  transition-timing-function: ease-in-out;\n`\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`\n\nexport const LowShadow = `box-shadow: 3px 4px 7px gray;`\nexport const HighShadow = `box-shadow: 8px 10px 20px gray;`\n\nconst levitateText = keyframes`\n  0% {\n    text-shadow: 1px 5px 10px black;\n  }\n  50% {\n    text-shadow: 1px 2px 5px black;\n  }\n  100% {\n    text-shadow: 1px 5px 10px black;\n  }\n`\n\nconst levitateBox = keyframes`\n  0% {\n    box-shadow: 8px 10px 20px gray;\n  }\n  50% {\n    box-shadow: 3px 4px 7px gray;\n  }\n  100% {\n    box-shadow: 8px 10px 20px gray;\n  }\n`\n\nexport const RotateAnimation = css`\n  animation-name: ${rotate};\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n`\n\nexport const LevitateBoxAnimation = css`\n  animation-name: ${levitateBox};\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n`\n\nexport const LevitateTextAnimation = css`\n  animation-name: ${levitateText};\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n`\n\nconst CSS_whiteTextAndBlackBackground = css`\n  background-color: black;\n  color: white;\n`\n\nconst CSS_blackTextAndWhiteBackground = css`\n  background-color: white;\n  color: black;\n`\n\nexport const BasicButton = styled<{whiteTextAndBlackBackground?: boolean, blackTextAndWhiteBackground?: boolean, transitionProp?:string, levitate?: boolean, isClicked?: boolean}, \"button\">(\"button\")`\n  padding: 10px;\n  font-size: 1em;\n  font-weight: bold;\n  border: 2px solid black;\n  border-radius: 1em;\n  box-sizing: border-box;\n  cursor: pointer;\n  outline: none;\n  ${({blackTextAndWhiteBackground}) => blackTextAndWhiteBackground && `\n    ${CSS_blackTextAndWhiteBackground};  \n    :active {\n      ${CSS_whiteTextAndBlackBackground};\n    }\n  `};\n  ${({whiteTextAndBlackBackground}) => whiteTextAndBlackBackground && `\n    ${CSS_whiteTextAndBlackBackground};\n    :active {\n      ${CSS_blackTextAndWhiteBackground}\n    }\n  `};\n  ${({levitate}) => levitate && LevitateBoxAnimation};\n  ${({isClicked}) => isClicked && CSS_whiteTextAndBlackBackground};\n  ${({transitionProp}) => transitionProp && ContinousTransition(transitionProp)};\n`\n\nexport const BasicInputField = styled<{blackTextAndWhiteBackground?: boolean, whiteTextAndBlackBackground?: boolean, transitionProp?:string, levitate?: boolean, placeholderColor?: string}, \"input\">(\"input\")`\n  padding: 5px;\n  font-size: 1em;\n  font-weight: bold;\n  border-radius: 10px;\n  border: 2px solid black;\n  ${({whiteTextAndBlackBackground}) => whiteTextAndBlackBackground && CSS_whiteTextAndBlackBackground};\n  ${({blackTextAndWhiteBackground}) => blackTextAndWhiteBackground && CSS_blackTextAndWhiteBackground};\n  outline: none;\n  ${({levitate}) => levitate && LevitateBoxAnimation};\n  ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n    color: ${({placeholderColor}) => placeholderColor};\n    opacity: 1; /* Firefox */\n  };\n  :-ms-input-placeholder { /* Internet Explorer 10-11 */\n      color: ${({placeholderColor}) => placeholderColor};\n  };\n\n  ::-ms-input-placeholder { /* Microsoft Edge */\n      color: ${({placeholderColor}) => placeholderColor};\n  };\n  ${({transitionProp}) => transitionProp && ContinousTransition(transitionProp)};\n`;\n\nconst FlexDiv = styled<{limitSizeToContainer?: boolean, levitate?: boolean, fitContainer?: boolean, transitionProp?: string, height?: string, width?: string, cssStyle?: string}, \"div\">(\"div\")`\n  display: flex;\n  box-sizing: border-box;\n  ${({height}) => height && `height: ${height}`};\n  ${({width}) => width && `width: ${width}`};\n  ${({cssStyle}) => cssStyle && `${cssStyle}`};\n  ${({fitContainer}) => fitContainer && `\n  width: 100%;\n  height: 100%;\n  `};\n  ${({limitSizeToContainer}) => limitSizeToContainer && `\n  max-width: 100%;\n  max-height: 100%;\n  `};\n  ${({levitate}) => levitate && LevitateBoxAnimation};\n  ${({transitionProp}) => transitionProp && ContinousTransition(transitionProp)};\n`\n\nexport const FlexColumnDiv = styled(FlexDiv)<{Hcenter?: boolean, Vcenter?: boolean}>`\n  flex-direction: column;\n  ${({Hcenter}) => Hcenter && `align-items: center`};\n  ${({Vcenter}) => Vcenter && `justify-content: center`};\n`\n\nexport const FlexRowDiv = styled(FlexDiv)<{Hcenter?: boolean, Vcenter?: boolean}>`\n  flex-direction: row;\n  ${({Hcenter}) => Hcenter && `justify-content: center`};\n  ${({Vcenter}) => Vcenter && `align-items: center`};\n`\n\nexport const FlexColumnContainer = styled(FlexColumnDiv)`\n  padding: 15px;\n  border-radius: 10px;\n  border: 2px solid black;\n`;\n\n\nexport const FlexRowContainer = styled(FlexRowDiv)`\n  padding: 15px;\n  border-radius: 10px;\n  border: 2px solid black;\n`;\n\nexport const CenteringDiv = styled(FlexRowDiv).attrs({\n  Hcenter: true,\n  Vcenter: true,\n})`\n`\n\nexport const ColoredText = styled<{levitateText?: boolean, block?: boolean, size?: string, color?: string, bold?: boolean}, \"span\">(\"span\")`\n  text-align: center;\n  color: ${({color}) => color ? color : \"white\"};\n  display: ${({block}) => block && \"block\"};\n  font-weight: ${({bold}) => bold && \"bold\"};\n  font-size: ${({size}) => size ? `${size}` : \"1.5em\"};\n  ${({levitateText}) => levitateText && LevitateTextAnimation};\n`;\n\ntype DeviceType = \"desktop\" | \"tablet\" | \"phone\"\ntype Media = {[device in DeviceType]: Function}\n\nconst deviceSizes: {[device in DeviceType]: number} = {\n  desktop: 992,\n  tablet: 768,\n  phone: 576,\n}\n\nconst devices: Array<DeviceType> = [\"desktop\", \"phone\", \"tablet\"]\n\n// Iterate through the sizes and create a media template\nexport const media = devices.reduce((acc, label) => {\n  acc[label] = (templateStrings: TemplateStringsArray) => css`\n    @media (max-width: ${deviceSizes[label] / 16}em) {\n      ${css(templateStrings)}\n    }\n  `\n\n  return acc\n}, {} as Media)","import styled, {createGlobalStyle} from './styled-components';\nimport * as cs from './components/common';\nimport ThemeInterface from './theme';\n\nexport const GlobalStyle = createGlobalStyle`\n  @import url(\"https://fonts.googleapis.com/css?family=Montserrat:400,900|Roboto\");\n\n  body {\n    padding: 0;\n    margin: 0;\n    font-family: Roboto, sans-serif;\n  }\n`;\n\nexport const Theme: ThemeInterface = {\n  primaryColor: \"white\", \n  primaryColorInverted: \"black\", \n  bgColor: \"white\",\n  playerOneColor: \"#eb4d4b\",\n  playerTwoColor: \"#0984e3\"\n}\n\nexport const AppWrapper = styled(cs.FlexRowDiv)`\n  height: 100vh;\n  width: 100vw;\n  position: relative;\n  ${cs.media.phone`\n  flex-direction: column;\n  `};\n`;\n\nexport const CloseButton = styled(cs.BasicButton)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  border-radius: 100%;\n`\n\nexport const PopUpContainer = styled(cs.CenteringDiv).attrs({\n  fitContainer: true,\n})`\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  z-index: 1;\n  background-color: rgba(0, 0, 0, 0.3);\n`\n\nexport const PopUp = styled(cs.CenteringDiv)`\n  text-align: center;\n  width: 30%;\n  height: 30%;\n  border-radius: 20px;\n  background-color: black;\n  position: relative;\n  padding: 10px;\n  ${cs.media.phone`\n  width: 70%;\n  height: 40%;\n  `};\n`","import styled, {css} from '../../styled-components';\nimport * as cs from '../common'\n\nexport const MultiPlayer = styled(cs.CenteringDiv).attrs({\n  transitionProp: \"background-color\",\n  fitContainer: true,\n})`\n  position: relative;\n  padding: 0.9em;\n  ${cs.media.phone`\n  flex-direction: column;\n  `};\n`;\n\nexport const Avatar = styled.img`\n  box-sizing: border-box;\n  height: 200px;\n  width: 200px;\n  border: 5px solid black;\n  border-radius: 100%;\n  ${cs.RotateAnimation};\n`;\n\nexport const AvatarAndTextContainer = styled(cs.FlexColumnDiv).attrs({\n  Hcenter: true\n})`\n`\n\nexport const JoiningForm = styled(cs.FlexRowDiv)`\n`\n\nexport const NameInput = styled(cs.BasicInputField).attrs({\n  levitate: true,\n  placeholderColor: \"white\",\n  whiteTextAndBlackBackground: true\n})`\n  margin-right: 10px;\n`;\n\nexport const AvailablePlayersAndWaitingAndRequestsContainer = styled(cs.FlexColumnDiv)`\n  position: relative;\n  overflow: scroll;\n  padding: 1em;\n  width: 40%;\n  max-height: 50%;\n  ${cs.media.phone`\n  width: 100%;\n  `};\n`\n\nexport const RequestsAndWaitAndRejectionWrapper= styled(cs.CenteringDiv).attrs({\n  fitContainer: true\n})`\n  position: absolute;\n  background-color: light\n`\n\n\n","import styled, {css} from \"../../../styled-components\";\nimport * as cs from '../../common'\n\nexport const Player = styled(cs.FlexRowDiv).attrs({\n})<{backgroundColor: string}>`\n  background-color: ${({backgroundColor}) => backgroundColor};\n  color: white;\n  font-size: 1.3em;\n  padding: 0.3em 0.4em;\n  border-radius: 0.5em;\n  margin-right: 0.3em;\n  ${cs.LowShadow};\n`;\n\nexport const AvailablePlayerAvatar = styled.img`\n  height: 2.3em;\n  width: 2.3em;\n  box-sizing: border-box;\n  border-radius: 100%;\n  border: 2px solid black;\n  margin-right: 1em;\n  ${cs.LowShadow};\n  ${cs.RotateAnimation};\n`\n\nexport const PlayerLine = styled(cs.FlexRowDiv).attrs({\n  Vcenter: true\n})`\n  margin: 0.5em 0; \n  justify-self: flex-start;\n  justify-content: space-between;\n`\n\nexport const InviteOrAcceptorRejectButton = styled(cs.BasicButton).attrs({\n  levitate: true\n})<{actionType: \"disabled\" | \"accept\" | \"invite\" | \"reject\"}>`\n  background-color: ${({actionType}) => {\n    switch (actionType) {\n      case \"disabled\":\n        return \"grey\"\n\n      case \"accept\":\n        return \"#33cc66\"\n\n      case \"invite\":\n        return \"#6c5ce7\"\n\n      case \"reject\":\n        return \"#FC4445\"\n    }\n  }} ;\n  color: white;\n  font-size: 1.1em;\n  padding: 0.3em 0.4em;\n  border-radius: 0.5em;\n  border: none;\n  ${({actionType}) => actionType === \"disabled\" && `\n  cursor: not-allowed;\n  `};\n`;\n\nexport const BarsLoaderWrapper = styled(cs.FlexRowDiv)`\n  margin-right: 0.6em;\n  height: 2.2em;\n  width: 2.2em;\n`","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 15,\n  cy: 15,\n  r: 15\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 15,\n  to: 15,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"15;9;15\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 1,\n  to: 1,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"1;.5;1\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 60,\n  cy: 15,\n  r: 9,\n  fillOpacity: 0.3\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 9,\n  to: 9,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"9;15;9\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 0.5,\n  to: 0.5,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \".5;1;.5\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 105,\n  cy: 15,\n  r: 15\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 15,\n  to: 15,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"15;9;15\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 1,\n  to: 1,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"1;.5;1\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 120,\n    height: 30,\n    viewBox: \"0 0 120 30\",\n    fill: \"black\"\n  }, props), _ref, _ref2, _ref3);\n};\n\nexport default __webpack_public_path__ + \"static/media/ThreeBallsLoader.a536838e.svg\";\nexport { SvgComponent as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  y: 10,\n  width: 15,\n  height: 120,\n  rx: 6\n}, React.createElement(\"animate\", {\n  attributeName: \"height\",\n  begin: \"0.5s\",\n  dur: \"1s\",\n  values: \"120;110;100;90;80;70;60;50;40;140;120\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"y\",\n  begin: \"0.5s\",\n  dur: \"1s\",\n  values: \"10;15;20;25;30;35;40;45;50;0;10\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 30,\n  y: 10,\n  width: 15,\n  height: 120,\n  rx: 6\n}, React.createElement(\"animate\", {\n  attributeName: \"height\",\n  begin: \"0.25s\",\n  dur: \"1s\",\n  values: \"120;110;100;90;80;70;60;50;40;140;120\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"y\",\n  begin: \"0.25s\",\n  dur: \"1s\",\n  values: \"10;15;20;25;30;35;40;45;50;0;10\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 60,\n  width: 15,\n  height: 140,\n  rx: 6\n}, React.createElement(\"animate\", {\n  attributeName: \"height\",\n  begin: \"0s\",\n  dur: \"1s\",\n  values: \"120;110;100;90;80;70;60;50;40;140;120\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"y\",\n  begin: \"0s\",\n  dur: \"1s\",\n  values: \"10;15;20;25;30;35;40;45;50;0;10\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 90,\n  y: 10,\n  width: 15,\n  height: 120,\n  rx: 6\n}, React.createElement(\"animate\", {\n  attributeName: \"height\",\n  begin: \"0.25s\",\n  dur: \"1s\",\n  values: \"120;110;100;90;80;70;60;50;40;140;120\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"y\",\n  begin: \"0.25s\",\n  dur: \"1s\",\n  values: \"10;15;20;25;30;35;40;45;50;0;10\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 120,\n  y: 10,\n  width: 15,\n  height: 120,\n  rx: 6\n}, React.createElement(\"animate\", {\n  attributeName: \"height\",\n  begin: \"0.5s\",\n  dur: \"1s\",\n  values: \"120;110;100;90;80;70;60;50;40;140;120\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"y\",\n  begin: \"0.5s\",\n  dur: \"1s\",\n  values: \"10;15;20;25;30;35;40;45;50;0;10\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 135,\n    height: 140,\n    viewBox: \"0 0 135 140\",\n    fill: \"white\"\n  }, props), _ref, _ref2, _ref3, _ref4, _ref5);\n};\n\nexport default __webpack_public_path__ + \"static/media/BarsLoader.9d461692.svg\";\nexport { SvgComponent as ReactComponent };","const StandardHTMLColorNames = [\n  \"AliceBlue\",\n  \"AntiqueWhite\",\n  \"Aqua\",\n  \"Aquamarine\",\n  \"Azure\",\n  \"Beige\",\n  \"Bisque\",\n  \"BlanchedAlmond\",\n  \"Blue\",\n  \"BlueViolet\",\n  \"Brown\",\n  \"BurlyWood\",\n  \"CadetBlue\",\n  \"Chartreuse\",\n  \"Chocolate\",\n  \"Coral\",\n  \"CornflowerBlue\",\n  \"Cornsilk\",\n  \"Crimson\",\n  \"Cyan\",\n  \"DarkBlue\",\n  \"DarkCyan\",\n  \"DarkGoldenRod\",\n  \"DarkGray\",\n  \"DarkGrey\",\n  \"DarkGreen\",\n  \"DarkKhaki\",\n  \"DarkMagenta\",\n  \"DarkOliveGreen\",\n  \"DarkOrange\",\n  \"DarkOrchid\",\n  \"DarkRed\",\n  \"DarkSalmon\",\n  \"DarkSeaGreen\",\n  \"DarkSlateBlue\",\n  \"DarkSlateGray\",\n  \"DarkSlateGrey\",\n  \"DarkTurquoise\",\n  \"DarkViolet\",\n  \"DeepPink\",\n  \"DeepSkyBlue\",\n  \"DimGray\",\n  \"DimGrey\",\n  \"DodgerBlue\",\n  \"FireBrick\",\n  \"FloralWhite\",\n  \"ForestGreen\",\n  \"Fuchsia\",\n  \"Gainsboro\",\n  \"GhostWhite\",\n  \"Gold\",\n  \"GoldenRod\",\n  \"Gray\",\n  \"Grey\",\n  \"Green\",\n  \"GreenYellow\",\n  \"HoneyDew\",\n  \"HotPink\",\n  \"IndianRed \",\n  \"Indigo \",\n  \"Ivory\",\n  \"Khaki\",\n  \"Lavender\",\n  \"LavenderBlush\",\n  \"LawnGreen\",\n  \"LemonChiffon\",\n  \"LightBlue\",\n  \"LightCoral\",\n  \"LightCyan\",\n  \"LightGoldenRodYellow\",\n  \"LightGray\",\n  \"LightGrey\",\n  \"LightGreen\",\n  \"LightPink\",\n  \"LightSalmon\",\n  \"LightSeaGreen\",\n  \"LightSkyBlue\",\n  \"LightSlateGray\",\n  \"LightSlateGrey\",\n  \"LightSteelBlue\",\n  \"LightYellow\",\n  \"Lime\",\n  \"LimeGreen\",\n  \"Linen\",\n  \"Magenta\",\n  \"Maroon\",\n  \"MediumAquaMarine\",\n  \"MediumBlue\",\n  \"MediumOrchid\",\n  \"MediumPurple\",\n  \"MediumSeaGreen\",\n  \"MediumSlateBlue\",\n  \"MediumSpringGreen\",\n  \"MediumTurquoise\",\n  \"MediumVioletRed\",\n  \"MidnightBlue\",\n  \"MintCream\",\n  \"MistyRose\",\n  \"Moccasin\",\n  \"NavajoWhite\",\n  \"Navy\",\n  \"OldLace\",\n  \"Olive\",\n  \"OliveDrab\",\n  \"Orange\",\n  \"OrangeRed\",\n  \"Orchid\",\n  \"PaleGoldenRod\",\n  \"PaleGreen\",\n  \"PaleTurquoise\",\n  \"PaleVioletRed\",\n  \"PapayaWhip\",\n  \"PeachPuff\",\n  \"Peru\",\n  \"Pink\",\n  \"Plum\",\n  \"PowderBlue\",\n  \"Purple\",\n  \"RebeccaPurple\",\n  \"Red\",\n  \"RosyBrown\",\n  \"RoyalBlue\",\n  \"SaddleBrown\",\n  \"Salmon\",\n  \"SandyBrown\",\n  \"SeaGreen\",\n  \"SeaShell\",\n  \"Sienna\",\n  \"Silver\",\n  \"SkyBlue\",\n  \"SlateBlue\",\n  \"SlateGray\",\n  \"SlateGrey\",\n  \"Snow\",\n  \"SpringGreen\",\n  \"SteelBlue\",\n  \"Tan\",\n  \"Teal\",\n  \"Thistle\",\n  \"Tomato\",\n  \"Turquoise\",\n  \"Violet\",\n  \"Wheat\",\n  \"WhiteSmoke\",\n  \"Yellow\",\n  \"YellowGreen\"\n  ]\n\nfunction shuffleArray(array: Array<string>) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n}\n\nconst ModernColors = [\n\"#edd9c0\",\n\"#c9d8c5\",\n\"#a8b6bf\",\n\"#7d4627\",\n\"#6ed3cf\",\n\"#9068be\",\n\"#e62739\",\n\"#9ad3de\",\n\"#89bdd3\",\n\"#fae596\",\n\"#3fb0ac\",\n\"#173e43\",\n\"#e6cf8b\",\n\"#b56969\",\n\"#22264b\",\n\"#98dafc\",\n\"#daad86\",\n\"#312c32\",\n\"#1d2120\",\n\"#5a5c51\",\n\"#ba9077\",\n\"#bcd5d1\",\n\"#729f98\",\n\"#283018\",\n\"#aa863a\",\n\"#c2d4d8\",\n\"#b0aac2\",\n\"#6534ff\",\n\"#62bcfa\",\n\"#fccdd3\",\n\"#bbc4ef\",\n\"#dbc3d0\",\n\"#5e0231\",\n\"#c7a693\",\n\"#856046\",\n\"#e6af4b\",\n\"#e05038\",\n\"#f2cbbc\",\n\"#334431\",\n\"#300032\",\n\"#06000a\",\n\"#c43235\",\n\"#16174f\",\n\"#963019\",\n\"#262216\",\n\"#97743a\",\n\"#30231d\",\n\"#c7ad88\",\n\"#935347\",\n\"#252839\",\n\"#f2b632\",\n\"#bccbde\",\n\"#c2dde6\",\n\"#e6e9f0\",\n\"#431c5d\",\n\"#e05915\",\n\"#cdd422\",\n]\n\nconst colorNameGenerator = (function* (colorsArray: Array<string>) {\n  let i = 0\n  shuffleArray(colorsArray)\n  while (i < colorsArray.length){\n    yield colorsArray[i]\n    i += 1\n    if (i === colorsArray.length) {\n      i = 0\n      shuffleArray(colorsArray)\n    }\n  }\n})(ModernColors)\n\nexport const getNewColor = () => colorNameGenerator.next().value\n\nconst setColor = (elementRef: React.RefObject<any>) => () => {\n  if (elementRef.current) {\n    elementRef.current.style.backgroundColor = getNewColor()\n  }\n}\n\nexport const ChangeColors = \n  (timeInMs: number, ...elementRefs: Array<React.RefObject<any>>) => \n    elementRefs.map(elementRef => setInterval(setColor(elementRef), timeInMs))\n","import React from 'react'\nimport * as cs from '../../common'\nimport * as s from './style'\nimport { AvailablePlayer, SelectedOpponent, PeerSignal, RequestsFromPlayers, ConnnectionInfo } from '../Multiplayer';\nimport {ReactComponent as ThreeBallsLoader} from '../../../assets/ThreeBallsLoader.svg'\nimport {ReactComponent as BarsLoader} from '../../../assets/BarsLoader.svg'\nimport * as utils from '../../../utils/util'\n\ninterface Props {\n  availablePlayers: Array<AvailablePlayer>\n  invitePlayer: (availablePlayer: AvailablePlayer) => void\n  connectionStatus: ConnnectionInfo | null\n  requests: RequestsFromPlayers\n  acceptPlayerRequest: (player: AvailablePlayer) => void\n  rejectPlayerRequest: (player: AvailablePlayer) => void\n}\n\nclass AvailablePlayersRoom extends React.Component<Props, {}> {\n\n  render() {\n    const {availablePlayers, rejectPlayerRequest, acceptPlayerRequest, connectionStatus, invitePlayer, requests} = this.props\n    return (\n      <React.Fragment>\n        {\n          availablePlayers.length ?\n          <React.Fragment>\n            {\n            availablePlayers.map(player => \n              <s.PlayerLine key={player.socketID}>\n                <cs.FlexRowDiv  Vcenter>\n                  <s.AvailablePlayerAvatar src={player.avatar} />\n                  <s.Player\n                    backgroundColor={utils.getNewColor()}\n                  >\n                  {player.name}\n                  </s.Player>\n                  <cs.ColoredText size=\"1.3em\" color=\"white\" bold>joined</cs.ColoredText>\n                </cs.FlexRowDiv>\n                {\n                  connectionStatus ?\n                  connectionStatus.socketID === player.socketID && connectionStatus.status === \"connecting\" ?\n                  <s.BarsLoaderWrapper>\n                    <BarsLoader width=\"100%\" height=\"100%\"/>\n                  </s.BarsLoaderWrapper>\n                  :\n                  <s.InviteOrAcceptorRejectButton \n                    actionType=\"disabled\"\n                  >Invite</s.InviteOrAcceptorRejectButton> :\n                  requests.has(player.socketID) ?\n                  <cs.FlexRowDiv>\n                    <s.InviteOrAcceptorRejectButton \n                    actionType=\"accept\" \n                    onClick={() => acceptPlayerRequest(player)}\n                  >Accept</s.InviteOrAcceptorRejectButton> \n                  <s.InviteOrAcceptorRejectButton \n                    actionType=\"reject\" \n                    onClick={() => rejectPlayerRequest(player)}\n                  >Reject</s.InviteOrAcceptorRejectButton>\n                  </cs.FlexRowDiv> :\n                  <s.InviteOrAcceptorRejectButton \n                    actionType=\"invite\" \n                    onClick={() => invitePlayer(player)}\n                  >Invite</s.InviteOrAcceptorRejectButton>\n                }\n              </s.PlayerLine>\n            )\n            }\n          </React.Fragment>\n          :\n          <cs.FlexColumnDiv Hcenter>\n            <ThreeBallsLoader width=\"100\" height=\"100\"/>\n            <cs.ColoredText bold>There are no free players right now, please wait for some time...</cs.ColoredText>\n          </cs.FlexColumnDiv>\n        }\n      </React.Fragment>\n    )\n  }\n}\n\nexport default AvailablePlayersRoom","import styled, {css} from '../../../styled-components';\nimport { LevitateTextAnimation } from '../../common';\n\n// You will need to define both the custom props and the type of tag which will be used.\nexport const Cell = styled<{ isInWinningPosition: boolean }, \"button\">(\"button\")`\n  cursor: pointer;\n  width: 100px;\n  height: 100px;\n  border: 2px solid black;\n  outline: none;\n  font-size: 3em;\n  background-color: white;\n  ${LevitateTextAnimation};\n  ${({isInWinningPosition}) => isInWinningPosition && css`\n    background-color: green;\n    color: white;\n  `\n  };\n`;","import React from 'react';\nimport * as s from './style'\n\nexport interface Props {\n  handlePlayerMove: () => void\n  cellValue: string\n  isInWinningPosition: boolean\n}\n\nfunction Cell(props: Props) {\n  return (\n    <s.Cell \n      onClick={props.handlePlayerMove} \n      isInWinningPosition={props.isInWinningPosition}\n    >\n    {props.cellValue}\n    </s.Cell>\n  )\n}\n\nexport default Cell;","import styled from '../../../styled-components';\nimport * as cs from '../../common'\n\nexport const Board = styled(cs.FlexColumnDiv)`\n  position: relative;\n  margin: 15px;\n`;\n\nexport const Overlay = styled(cs.CenteringDiv).attrs({\n  fitContainer: true\n})<{waitForOpponentMove: boolean}>`\n  display: none;\n  ${({waitForOpponentMove}) => waitForOpponentMove && `\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.3);\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  `};\n`\n\nexport const Row = styled.div`\n  display: flex;\n`;","import React from 'react'\nimport Cell from '../Cell/Cell'\nimport * as s from './style'\nimport { BoardState, GameResult } from '../Game';\nimport {ReactComponent as ThreeBallsLoader} from '../../../assets/ThreeBallsLoader.svg';\n\ninterface Props {\n  gameResult: GameResult\n  waitForOpponentMove: boolean\n  boardState: BoardState\n  handlePlayerMove: (cellID: number, moveBySelf: boolean) => void\n}\n\nclass Board extends React.Component<Props, {}> {\n\n  renderCell = (cellID: number) => {\n    const cellValue = this.props.boardState[cellID]\n    let isInWinningPosition = false\n    if (this.props.gameResult.resultType === \"win\") {\n      isInWinningPosition = this.props.gameResult.winningCellPositions.includes(cellID)\n    }\n    return (\n      <Cell \n        handlePlayerMove={() => this.props.handlePlayerMove(cellID, true)} \n        cellValue={cellValue} \n        isInWinningPosition={isInWinningPosition}\n      />\n    )\n  }\n\n  render() {\n    const {gameResult, waitForOpponentMove} = this.props\n    return (\n      <s.Board>\n        <s.Overlay waitForOpponentMove={waitForOpponentMove}>\n          <ThreeBallsLoader width=\"140\" height=\"50\" fill=\"white\"/>\n        </s.Overlay>\n        <s.Row>\n          {this.renderCell(0)}\n          {this.renderCell(1)}\n          {this.renderCell(2)}\n        </s.Row>\n        <s.Row>\n          {this.renderCell(3)}\n          {this.renderCell(4)}\n          {this.renderCell(5)}\n        </s.Row>\n        <s.Row>\n          {this.renderCell(6)}\n          {this.renderCell(7)}\n          {this.renderCell(8)}\n        </s.Row>\n      </s.Board>\n    );\n  }\n}\n\nexport default Board;","import styled, {css} from 'styled-components';\nimport * as cs from '../common'\n\nexport const Game = styled(cs.FlexRowDiv)`\n  align-items: center;\n  ${cs.media.phone`\n    flex-direction: column;\n    max-width: 100%;\n  `}\n  /* max-width: 100%; */\n`;\n\nexport const History = styled(cs.FlexColumnDiv)`\n  margin-left: 30px;\n  max-height: 50%;\n  overflow: scroll;\n  ${cs.media.phone`\n    flex-direction: row;\n    max-width: 100%;\n    margin-left: 0px;\n  `}\n`;\n\nexport const Move = styled(cs.BasicButton)`\n  margin: 20px;\n  background-color: white;\n`;\n\nexport const Avatar = styled.img`\n  border-radius: 100%;\n  border: 2px solid black;\n  box-sizing: border-box;\n  width: 6em;\n  height: 6em;\n`;","import React from 'react';\nimport Board from './Board/Board';\nimport * as s from './style'\nimport * as cs from '../common';\nimport { GameMode } from '../../App';\nimport {withTheme} from '../../styled-components'\nimport ThemeInterface from '../../theme';\n\nexport enum PlayerSymbol {\n  X = \"X\",\n  O = \"O\",\n}\ninterface PlayerInfo {\n  name: string\n  symbol: PlayerSymbol\n}\n\n// When all members in an enum have literal values, special semantics come into play.\n// 1. First is that enum members become types as well.\n// 2. Second is that the enum type effectively becomes the union of each enum member.\nexport enum PlayerType {\n  Player1 = \"Player1\", // Player1 is an enum member which has a constant value \"Player1\" associated with it, a constant enum member.\n  Player2 = \"Player2\",\n}\n\nexport type BoardState = Array<PlayerSymbol>\n\ninterface GameState {\n  nextPlayer: PlayerType\n  boardState: BoardState\n}\n\ntype GameHistory = Map<number, GameState>\n\nexport type GameResult = WinningResult | DrawResult | NeitherResult\ninterface DrawResult {\n  resultType: \"draw\"\n}\n\ninterface NeitherResult {\n  resultType: \"neither\"\n}\n\ninterface WinningResult {\n  resultType: \"win\"\n  winningPlayer: PlayerType\n  winningSymbol: PlayerSymbol\n  winningCellPositions: Array<number>\n}\n\ninterface State {\n  \n  nextPlayer: PlayerType\n  boardState: BoardState\n  moveInHistory: number | null\n  history: GameHistory\n  gameResult: GameResult\n}\n\ninterface Props {\n  gameMode: GameMode\n  isSelfPlayer1: boolean\n  selfName: string\n  selfAvatar: string\n  opponentName: string\n  opponentAvatar: string\n  sendPlayerMoveCellIDToOpponent?: (cellID: number) => void\n  sendRestartSignalToOpponent?: () => void\n  theme: ThemeInterface\n}\n\nclass Game extends React.Component<Props, State> {\n\n  gameMode: GameMode\n  selfName: string\n  opponentName: string\n  selfPlayerType: PlayerType\n  opponentPlayerType: PlayerType\n  selfAvatar: string\n  opponentAvatar: string\n  symbolOfSelf: PlayerSymbol\n  symbolOfOpponent: PlayerSymbol\n  Player1: PlayerInfo\n  Player2: PlayerInfo\n  colorForSelf: string\n  colorForOpponent: string\n\n  constructor(props: Props) {\n    super(props)\n    this.gameMode = props.gameMode\n    this.selfName = props.selfName\n    this.opponentName = props.opponentName\n    this.selfAvatar = props.selfAvatar\n    this.opponentAvatar = props.opponentAvatar\n    const player1Name = props.isSelfPlayer1 ? props.selfName : props.opponentName\n    this.symbolOfSelf = props.isSelfPlayer1 ? PlayerSymbol.X : PlayerSymbol.O\n    this.symbolOfOpponent =  this.symbolOfSelf === PlayerSymbol.X ? PlayerSymbol.O : PlayerSymbol.X\n    const player2Name = player1Name === props.selfName ? props.opponentName : props.selfName\n    this.Player1 = {name: player1Name, symbol: PlayerSymbol.X}\n    this.Player2 = {name: player2Name, symbol: PlayerSymbol.O}\n    this.selfPlayerType = props.isSelfPlayer1 ? PlayerType.Player1 : PlayerType.Player2\n    this.opponentPlayerType = this.selfPlayerType === PlayerType.Player1 ? PlayerType.Player2 : PlayerType.Player1\n    const gameResult: NeitherResult = {resultType: \"neither\"}\n    this.state = {\n      nextPlayer: PlayerType.Player1,\n      boardState: Array(9).fill(null),\n      moveInHistory: null,\n      history: new Map(),\n      gameResult,\n    }\n    this.colorForSelf = props.isSelfPlayer1 ? props.theme.playerOneColor : props.theme.playerTwoColor\n    this.colorForOpponent =  this.colorForSelf === props.theme.playerOneColor ? props.theme.playerTwoColor : props.theme.playerOneColor\n  }\n\n  togglePlayer = (player: PlayerType) : PlayerType => {\n    if (player === PlayerType.Player1) {\n      return PlayerType.Player2\n    }\n    return PlayerType.Player1\n  }\n\n  getSymbolOfPlayer = (player: PlayerType) : PlayerSymbol => {\n    const symbolOfPlayer = this[player].symbol\n    return symbolOfPlayer\n  }\n\n  recordMoveInHistory = (newBoardState: BoardState, nextPlayer: PlayerType) => {\n    const {history, moveInHistory} = this.state\n    const historyTillNow = new Map(history)\n    if (moveInHistory !== null) {\n      const currMoveNo = moveInHistory + 1\n      const newHistory = historyTillNow.set(currMoveNo, {nextPlayer, boardState: newBoardState})\n      this.setState({\n        history: newHistory,\n        moveInHistory: null\n      })\n      return\n    }\n  \n    const currMoveNo = historyTillNow.size + 1\n    const newHistory = historyTillNow.set(currMoveNo, {nextPlayer, boardState: newBoardState})\n    this.setState({\n      history: newHistory\n    })\n  }\n\n\n  handlePlayerMove = (cellID: number, moveBySelf: boolean) => {\n\n    const currentPlayer = this.state.nextPlayer\n    \n    const {boardState, gameResult} = this.state\n    \n    const symbolOfCurrPlayer = this.getSymbolOfPlayer(currentPlayer)\n    \n    if (boardState[cellID] !== null || gameResult.resultType === \"win\") {\n      return\n    }\n\n    if (moveBySelf && this.gameMode === GameMode.MultiPlayer) {\n      this.props.sendPlayerMoveCellIDToOpponent!(cellID)\n    }\n    \n    const newBoardState = boardState.slice()\n    \n    newBoardState[cellID] = symbolOfCurrPlayer\n\n    const result = this.checkForWinDrawNeither(newBoardState, currentPlayer)\n\n    const nextPlayer = this.togglePlayer(currentPlayer)\n\n    this.setState({boardState: newBoardState, nextPlayer, gameResult: result})\n\n    this.recordMoveInHistory(newBoardState, nextPlayer)\n  }\n\n  checkForWinDrawNeither = (boardState: BoardState, currentPlayer: PlayerType) : GameResult => {\n    const lines = [\n      [0, 1, 2],[3, 4, 5],[6, 7, 8],[0, 3, 6],[1, 4, 7],[2, 5, 8],[0, 4, 8],[2, 4, 6],\n    ];\n    for (let i = 0; i < lines.length; i++) {\n      const [cellA, cellB, cellC] = lines[i]\n      if (boardState[cellA] && boardState[cellA] === boardState[cellB] && boardState[cellA] === boardState[cellC]) {\n        const gameResult: WinningResult = {\n          resultType: \"win\",\n          winningPlayer: currentPlayer, \n          winningSymbol: boardState[cellA], \n          winningCellPositions: lines[i]\n        }\n        return gameResult\n      }\n    }\n    const gameIsADraw = this.checkForDraw(boardState)\n    if (gameIsADraw) {\n      const drawResult: DrawResult = {resultType: \"draw\"} \n      return drawResult\n    } else {\n      const neitherResult: NeitherResult = {resultType: \"neither\"}\n      return neitherResult\n    }\n  }\n\n  checkForDraw = (boardState: BoardState): boolean => {\n    let gameIsADraw: boolean\n    for (const cellValue of boardState) {\n      if (cellValue === null) {\n        gameIsADraw = false\n        return gameIsADraw\n      }\n    }\n    gameIsADraw = true\n    return gameIsADraw\n  }\n\n  goBackToMove = (moveNum: number, playBySelf: boolean) => {\n    if (moveNum !== 0) {\n      const prevGameState = this.state.history.get(moveNum) as GameState\n      const {boardState, nextPlayer} = prevGameState\n      const currentPlayer = this.togglePlayer(nextPlayer)\n      const gameResult = this.checkForWinDrawNeither(boardState, currentPlayer)\n      this.setState({\n        boardState, nextPlayer, moveInHistory: moveNum, gameResult\n      })\n    } else {\n      const gameResult: NeitherResult = {resultType: \"neither\"}\n      this.setState({\n        boardState: Array(9).fill(null), history: new Map(), moveInHistory: null, \n        nextPlayer: PlayerType.Player1, gameResult\n      })\n      if (playBySelf && this.gameMode === GameMode.MultiPlayer) {\n        this.props.sendRestartSignalToOpponent!()\n      }\n    }\n  }\n\n  render() {\n    // nextPlayer is the player that is gonna play now.\n    const {nextPlayer, boardState, history, moveInHistory, gameResult} = this.state\n    const {\n      selfPlayerType, opponentPlayerType, colorForSelf, symbolOfSelf, symbolOfOpponent,\n      colorForOpponent, selfName, selfAvatar, opponentAvatar, opponentName\n    } = this\n    let gameStatusMessage;\n    let waitForOpponentMove = false;\n    switch (gameResult.resultType) {\n      case \"draw\":\n        gameStatusMessage = <cs.ColoredText>This game a mothafucking draw!</cs.ColoredText>\n        break;\n\n      case \"win\":\n        const didSelfWin = gameResult.winningPlayer === selfPlayerType\n        if (didSelfWin) {\n          gameStatusMessage = <cs.ColoredText bold>You <cs.ColoredText bold>won</cs.ColoredText> the match!</cs.ColoredText>\n        } else {\n          gameStatusMessage = <cs.ColoredText bold>You <cs.ColoredText bold>lost</cs.ColoredText> the match!</cs.ColoredText>\n        }\n        break;\n\n      case \"neither\":\n        waitForOpponentMove = nextPlayer === opponentPlayerType\n        if (waitForOpponentMove) {\n          gameStatusMessage = <cs.ColoredText bold>Waiting for <cs.ColoredText color={this.colorForOpponent} bold>{opponentName}</cs.ColoredText> to make a move...</cs.ColoredText> \n        } else {\n          gameStatusMessage = <cs.ColoredText bold>Make a move!!</cs.ColoredText>\n        }\n        break;\n    \n      default:\n        break;\n    }\n    return (\n      <s.Game>\n        <cs.FlexRowDiv>\n          <cs.FlexColumnDiv Hcenter>\n            <s.Avatar src={selfAvatar} />\n            <cs.ColoredText bold color={colorForSelf}>You - {symbolOfSelf}</cs.ColoredText>\n          </cs.FlexColumnDiv>\n          <cs.FlexColumnDiv cssStyle={`margin: 0em 1.5em; padding-top: 2.5em;`}>\n            <cs.ColoredText bold>VS</cs.ColoredText>\n          </cs.FlexColumnDiv>\n          <cs.FlexColumnDiv Hcenter>\n            <s.Avatar src={opponentAvatar} />\n            <cs.ColoredText bold color={colorForOpponent}>{opponentName} - {symbolOfOpponent}</cs.ColoredText>\n          </cs.FlexColumnDiv>\n        </cs.FlexRowDiv>\n        <cs.FlexColumnDiv Hcenter>\n          <cs.CenteringDiv height=\"6em\">\n            {gameStatusMessage}\n          </cs.CenteringDiv>\n          <Board\n            gameResult={gameResult}\n            waitForOpponentMove={waitForOpponentMove}\n            boardState={boardState} \n            handlePlayerMove={this.handlePlayerMove}\n          />\n        </cs.FlexColumnDiv>\n        <s.History>\n          <s.Move>\n            <cs.BasicButton levitate onClick={() => this.goBackToMove(0, true)}>\n              Go to Game start\n            </cs.BasicButton>\n          </s.Move>\n          {\n          Array.from(history.keys()).map((moveNum) => (\n            <s.Move key={moveNum} \n              levitate isClicked={moveInHistory===moveNum} \n              onClick={() => this.goBackToMove(moveNum, true)}\n              >\n              Go to move #{moveNum}\n            </s.Move>\n          ))\n          }\n        </s.History>      \n      </s.Game>\n    );\n  }\n}\n\nexport default withTheme(Game);","import React from 'react';\nimport * as s from './style'\nimport * as cs from '../common'\nimport io from 'socket.io-client';\nimport AvailablePlayersRoom from './AvailablePlayersRoom/AvailablePlayersRoom';\nimport Chatbox from './ChatBox/Chatbox';\nimport Game from '../Game/Game';\nimport { GameMode } from '../../App';\nimport * as utils from '../../utils/util'\nimport {ReactComponent as BarsLoader} from '../../assets/BarsLoader.svg'\nimport defaultAvatarImg from '../../assets/defaultAvatar.jpeg'\n\nexport interface AvailablePlayer {\n  name: string\n  avatar: string\n  socketID: socketID\n}\n\nexport type socketID = string\n\nexport interface SelectedOpponent extends AvailablePlayer {}\n\ninterface SocketResponse {\n  message: string\n  code: number\n}\n\ninterface AnswerSignal extends RTCSessionDescription {}\ninterface OfferSignal extends RTCSessionDescription {}\n\ninterface CandidateSignal {\n  type: 'candidate'\n  candidate: RTCIceCandidateInit\n}\n\nexport interface PeerSignal {\n  name: string\n  socketID: socketID\n  offer:  OfferSignal\n  candidate: CandidateSignal | null\n}\n\nexport enum TextMessageTypes {\n  IncomingTextMessage = \"IncomingTextMessage\",\n  OutgoingTextMessage = \"OutgoingTextMessage\"\n}\n\nexport interface IncomingTextMessage {\n  type: TextMessageTypes.IncomingTextMessage\n  value: string\n}\n\nexport interface OutgoingTextMessage {\n  type: TextMessageTypes.OutgoingTextMessage\n  value: string\n}\n\n// TextMessage is the type of an object that contains text messages which are sent over the WebRTC connection.\nexport type TextMessage = IncomingTextMessage | OutgoingTextMessage\n\n// PlayerMoveCellID is the type of an object that contains the player move symbol which is sent over the WebRTC connection.\nexport interface PlayerMoveCellID {\n  type: \"PlayerMoveCellID\"\n  value: number\n}\n\nexport interface RestartSignal {\n  type: \"RestartGame\"\n}\n\n// Payload is the type of an object which is sent over the WebRTC connection. The object can be of type TextMessage or PlayerMoveSymbol\nexport type Payload = TextMessage | PlayerMoveCellID | RestartSignal\n\ntype SendQueue = Array<Payload>\n\nexport type AllTextMessages = Array<TextMessage>\n\nexport type RequestsFromPlayers = Map<socketID, PeerSignal>\n\ntype AvailablePlayers = Array<AvailablePlayer>\n\nexport interface ConnnectionInfo {\n  socketID: socketID\n  status: \"connecting\" | \"rejected\" | \"open\"\n}\n\ninterface State {\n  selfName: string\n  currentOutgoingTextMessage: string\n  placeholderForPlayerNameEle: string\n  allTextMessages: AllTextMessages\n  availablePlayers: AvailablePlayers\n  requestsFromPlayers: RequestsFromPlayers\n  isInAvailablePlayersRoom: boolean\n  avatarImage: string\n  connectionStatus: ConnnectionInfo | null\n}\n\ninterface Props {\n  showPopUp: (popUpValue: any) => void\n}\n\n\nclass Multiplayer extends React.Component<Props, State> {\n\n  basicButtonRef = React.createRef<any>()\n  nameInputRef = React.createRef<any>()\n  multiPlayerRef = React.createRef<any>()\n  gameComponentChild = React.createRef<any>()\n  defaultPlaceholder = \"Enter player name\"\n  onErrorPlaceholder = \"Name cannot be empty\"\n  opponentName =  \"\"\n  isInitiator = false \n  sendQueue: SendQueue = []\n  socket: SocketIOClient.Socket // Not initializing this member beacuse it doesnt need to be initialized.\n  peerConn: RTCPeerConnection\n  webRTCConfig: RTCConfiguration\n  dataChannel: RTCDataChannel | null = null\n  selectedOpponent: SelectedOpponent | null = null\n  socketServerAddress: string\n  avatarServerAddress: string\n  setIntervalIds: Array<NodeJS.Timeout> \n  defaultAvatarImage = defaultAvatarImg\n\n  constructor(props: Props) {\n    super(props)\n    this.state = {\n      selfName: \"\", currentOutgoingTextMessage: \"\", placeholderForPlayerNameEle: this.defaultPlaceholder, allTextMessages: [],\n      availablePlayers: [], requestsFromPlayers: new Map(), isInAvailablePlayersRoom: false, avatarImage: \"\",\n      connectionStatus: null\n    }\n\n    if (process.env.NODE_ENV === \"development\") {\n      this.socketServerAddress = process.env.REACT_APP_DEV_SOCKET_SERVER_ADDRESS as string\n      this.avatarServerAddress = process.env.REACT_APP_DEV_AVATAR_SERVER as string\n    } else {\n      this.socketServerAddress = process.env.REACT_APP_PROD_SOCKET_SERVER_ADDRESS as string\n      this.avatarServerAddress = process.env.REACT_APP_PROD_AVATAR_SERVER as string\n    }\n    console.log(\"Using socketServerAddress: \", this.socketServerAddress)\n    console.log(\"Using avatarServerAddress: \", this.avatarServerAddress)\n  }\n\n  handleInputChange : React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    const {name, value} = event.currentTarget\n    switch (name) {\n      case \"playerName\":\n        this.setState({selfName: value})\n        break\n    \n      case \"currentOutgoingMessage\":\n        this.setState({currentOutgoingTextMessage: value})\n        break\n    }\n  }\n\n  handleEnter : React.KeyboardEventHandler<HTMLInputElement> = (event) => {\n    const {name} = event.currentTarget\n    if (event.key === \"Enter\") {\n      switch (name) {\n        case \"currentOutgoingMessage\":\n          const outgoingTextMessage: OutgoingTextMessage = {\n            type: TextMessageTypes.OutgoingTextMessage, \n            value: this.state.currentOutgoingTextMessage\n          }\n          this.sendDataToRemotePeer(outgoingTextMessage)\n          break;\n      \n        case \"playerName\":\n          this.handleJoinRoomClick()\n          break;\n      }\n    }\n  }\n\n  handleSendTextMessageButton : React.MouseEventHandler<HTMLButtonElement> = () => {\n    const outgoingTextMessage: OutgoingTextMessage = {\n      type: TextMessageTypes.OutgoingTextMessage, \n      value: this.state.currentOutgoingTextMessage\n    }\n    this.sendDataToRemotePeer(outgoingTextMessage)\n  }\n\n  getAvatarBasedOnUserName = async(userID: string) => {\n    const response = await fetch(`${this.avatarServerAddress}/getRandomAvatarBasedOnUniqueUserID?userID=${userID}`)\n    if (!response.ok) {\n      throw Error(\"could not connect to the server.\");\n    }\n    if (response.status !== 200) {\n      throw Error(`status code: ${response.clone}, status message: ${response.statusText}`)\n    }\n    const blob = await response.blob()\n    const base64img = URL.createObjectURL(blob)\n    return base64img\n  }\n\n  handleJoinRoomClick = async() => {\n    if (this.state.selfName === \"\") {\n      this.setState({placeholderForPlayerNameEle: this.onErrorPlaceholder})\n      return\n    }\n\n    const {selfName} = this.state\n    let avatar: string\n    try {\n      avatar = await this.getAvatarBasedOnUserName(selfName)\n      console.log(\"base64img: \", avatar)\n    } catch (error) {\n      avatar = this.defaultAvatarImage\n      this.props.showPopUp(JSON.stringify(error))\n    }\n    this.setState({avatarImage: avatar})\n\n    this.socket = io(this.socketServerAddress, {\n      path: '/xoxo-multiplayer-socketConnectionNamespace'\n    })\n\n    this.socket.on('connect', () => {\n\n      console.log(\"Client socket is connected ?: \", this.socket.connected); // true\n      \n      this.registerToSocketEvents()\n      \n      this.socket.emit(\"registerNameAndAvatarWithSocket\", selfName, avatar, (response: SocketResponse) => {\n        console.log(response)\n        \n        this.socket.emit('joinAvailablePlayersRoom', (resp: SocketResponse) => {\n          if (resp.code !== 200) {\n            this.props.showPopUp(new Error(resp.message))\n            return\n          }\n          console.log(resp)\n          this.setState({isInAvailablePlayersRoom: true})\n        });\n        \n        // TODO: Socket disconnect on window unload or whatever.\n      })\n    });\n  }\n  \n\n  registerToSocketEvents = () => {\n\n    this.socket.on('playersInAvailableRoom', (availablePlayers: AvailablePlayers) => {\n      console.log(\"Got playersInAvailableRoom : \", availablePlayers)\n      this.setState({availablePlayers})\n    })\n\n    this.socket.on('rejectionFromRequestedPlayer', (playerThatRejected: string) => {\n      console.log(`${playerThatRejected} rejected the request to play`)\n      this.peerConn.close()\n      this.dataChannel!.close()\n    })\n\n    this.socket.on('ipaddr', (ipaddr: string) => {\n      console.log('Server IP address is: ' + ipaddr);\n    });\n    \n    this.socket.on('log', (msg: object) => console.log(msg))\n    \n    this.socket.on('offerFromRemotePlayer', (offer: OfferSignal, remotePlayerName: string, remotePlayerSocketID: socketID) => {\n      console.log(`${remotePlayerName} has sent a offer ${JSON.stringify(offer)}`)\n      const peerSignal: PeerSignal = {name: remotePlayerName, socketID: remotePlayerSocketID, offer: offer, candidate: null}\n      this.setState((prevState) => ({\n        requestsFromPlayers: new Map(prevState.requestsFromPlayers).set(remotePlayerSocketID, peerSignal)\n      }))\n    });\n\n    this.socket.on('candidateFromRemotePlayer', (candidate: CandidateSignal, remotePlayerName: string, remotePlayerSocketID: socketID) => {\n      console.log(`${remotePlayerName} (${remotePlayerSocketID}) has sent an ICE candidate ${JSON.stringify(candidate)}`)\n      if (this.isInitiator) {\n        this.processSignalFromRemotePeer(candidate)\n        return\n      }\n      this.setState((prevState) => {\n        const requestsFromPlayers = new Map(prevState.requestsFromPlayers)\n        const signal = requestsFromPlayers.get(remotePlayerSocketID) as PeerSignal\n        signal.candidate = candidate\n        requestsFromPlayers.set(remotePlayerSocketID, signal)\n        return {requestsFromPlayers}\n      })\n    });\n\n    this.socket.on('answerFromRemotePlayer', (answer: AnswerSignal, remotePlayerName: string, remotePlayerSocketID: socketID) => {\n      console.log(`${remotePlayerName} (${remotePlayerSocketID}) has sent an answer ${JSON.stringify(answer)}`)\n      this.processSignalFromRemotePeer(answer)\n    });\n\n    this.socket.on('disconnect', (reason: string) => {\n      console.log(`Disconnected from signaling Node server: ${reason}.`);\n      // this.setState({canSendMessages: false})\n    });\n  }\n\n  sendOfferToRemotePeerViaSignallingServer = (offer: OfferSignal) => {\n    console.log(`${this.state.selfName} sending an offer to remote player ${this.selectedOpponent!.name}: ${offer}`);\n    this.socket.emit('signalOfferToRemotePlayer', offer, this.selectedOpponent!.socketID);\n  }\n\n  sendCandidateToRemotePeerViaSignallingServer = (candidate: CandidateSignal) => {\n    console.log(`${this.state.selfName} sending a candidate message to remote player ${this.selectedOpponent!.name}: ${candidate}`);\n    this.socket.emit('signalCandidateToRemotePlayer', candidate, this.selectedOpponent!.socketID);\n  }\n\n  sendAnswerToRemotePeerViaSignallingServer = (answer: AnswerSignal) => {\n    console.log(`${this.state.selfName} sending a answer to remote player ${this.selectedOpponent!.name}: ${answer}`);\n    this.socket.emit('signalAnswerToRemotePlayer', answer, this.selectedOpponent!.socketID);\n  }\n\n\n  processSignalFromRemotePeer = async(signal: OfferSignal | AnswerSignal | CandidateSignal) => {\n    switch (signal.type) {\n      case 'offer':\n        console.log('Got offer');\n        try {\n          const callerSessionDescription = new RTCSessionDescription(signal) // represents the caller's session description.\n          await this.peerConn.setRemoteDescription(callerSessionDescription) // This establishes the received offer as the description of the remote (caller's) end of the connection.\n          const localSessionDesc = await this.peerConn.createAnswer()\n          await this.peerConn.setLocalDescription(localSessionDesc) // Set's description of the local end of the connection\n          this.sendAnswerToRemotePeerViaSignallingServer(this.peerConn.localDescription as AnswerSignal)\n        } catch(err) {\n          this.props.showPopUp(err)\n        }\n        break;\n    \n      case 'answer':\n        console.log('Got answer.');\n        try {\n          const calleeSessionDescription = new RTCSessionDescription(signal)\n          await this.peerConn.setRemoteDescription(calleeSessionDescription);\n        } catch(err) {\n          this.props.showPopUp(err)\n        }\n        break;\n\n      case 'candidate':\n        console.log('Got ice candidate');\n        try {\n          const iceCandidate = new RTCIceCandidate(signal.candidate)\n          await this.peerConn.addIceCandidate(iceCandidate)\n        } catch(err) {\n          this.props.showPopUp(err)\n        }\n        break;\n      \n      default:\n        this.props.showPopUp(new Error(\"Got unexpected signal from remote peer.\"))\n        break;\n    }\n  }\n\n  /*\n  The local ICE layer calls your icecandidate event handler, when it needs you to transmit an ICE candidate to the \n  other peer, through your signaling server. \n  */\n  handleICECandidateEvent = (event: RTCPeerConnectionIceEvent) => {\n    console.log('icecandidate event:', event);\n    const iceCandidate = event.candidate\n    if (iceCandidate) {\n      const candidateSignal: CandidateSignal = {type: \"candidate\", candidate: iceCandidate.toJSON()}\n      this.sendCandidateToRemotePeerViaSignallingServer(candidateSignal)\n    } else {\n      console.log('End of candidates.');\n    }\n  }\n\n  /*\n  This function is called whenever the WebRTC infrastructure needs you to start the session negotiation process anew.\n  Its job is to create and send an offer, to the callee, asking it to connect with us.\n  */\n  handleNegotiationNeededEvent = async () => {\n    try {\n      console.log('Creating an offer');\n      const localSessionDescription = await this.peerConn.createOffer()\n      await this.peerConn.setLocalDescription(localSessionDescription)\n      // We know the description is valid, and has been set, when the promise returned by setLocalDescription() is fulfilled.\n      this.sendOfferToRemotePeerViaSignallingServer(this.peerConn.localDescription as RTCSessionDescription)\n    } catch(err) {\n      this.props.showPopUp(err)\n    }\n  }\n\n  /*\n  The createPeerConnection() function is used by both the caller and the callee to construct their \n  RTCPeerConnection objects, their respective ends of the WebRTC connection.\n  */\n  createPeerConnection = (isInitiator: boolean, config?: RTCConfiguration) => {\n    console.log('Creating Peer connection as initiator?', isInitiator, 'config:', config);\n    this.peerConn = new RTCPeerConnection(config);\n  \n    // send any ice candidates to the other peer\n    this.peerConn.onicecandidate = this.handleICECandidateEvent\n  \n    if (isInitiator) {\n      this.peerConn.onnegotiationneeded = this.handleNegotiationNeededEvent\n      console.log('Creating Data Channel')\n      this.dataChannel = this.peerConn.createDataChannel('textMessages')\n      this.onDataChannelCreated(this.dataChannel)\n      this.setState({connectionStatus: {socketID: this.selectedOpponent!.socketID,status: \"connecting\"}})\n    } else {\n      console.log(\"Registering ondatachannel handler\")\n      // registering a handler that fires when the peer gets a datachannel from the other remote peer.\n      this.peerConn.ondatachannel = (event) => {\n        console.log('Got data channel from remote peer : ', event.channel);\n        this.dataChannel = event.channel;\n        this.onDataChannelCreated(this.dataChannel);\n      };\n    }\n  }\n\n  onDataChannelCreated = (channel: RTCDataChannel) => {\n    console.log('onDataChannelCreated:', channel);\n  \n    channel.onopen = () => {\n      console.log('Data channel opened!!!');\n      this.socket = this.socket as SocketIOClient.Socket\n      this.socket.emit(\"exitFromAvailablePlayersRoom\", (resp: SocketResponse) => {\n        if (resp.code !== 200) {\n          this.props.showPopUp(new Error(resp.message))\n          return\n        }\n        console.log(resp)\n        this.setState({\n          isInAvailablePlayersRoom: false, \n          connectionStatus: {socketID: this.selectedOpponent!.name, status: \"open\"}\n        })\n      })\n    };\n\n    channel.onerror = (err) => {\n      console.log(\"Data channel error\", err)\n    }\n  \n    channel.onclose = () => {\n      console.log('Data channel closed.');\n      if (this.state.isInAvailablePlayersRoom) {\n        // This block is executed when the player's request is rejected\n        this.props.showPopUp(`${this.selectedOpponent!.name} rejected your invite`)\n        this.selectedOpponent = null\n        this.dataChannel = null\n        this.setState({connectionStatus: null})\n        return\n      }\n      // The below code is executed when the player quits the match to join avaiable players pool.\n      this.socket = this.socket as SocketIOClient.Socket\n      this.socket.emit('joinAvailablePlayersRoom', (resp: SocketResponse) => {\n        if (resp.code !== 200) {\n          this.props.showPopUp(new Error(resp.message))\n          return\n        }\n        console.log(resp)\n        this.setState({allTextMessages: [], isInAvailablePlayersRoom: true})\n        this.selectedOpponent = null\n      });\n    }\n  \n    channel.onmessage = (evt: MessageEvent) => {\n      console.log(\"Got payload from data channel!!!\")\n      const payload: Payload = JSON.parse(evt.data)\n      switch (payload.type) {\n        case \"PlayerMoveCellID\":\n          console.log(\"got PlayerMoveCellID: \", payload.value)\n          // make handlePlayerMove execute in Game component which is a child of this component.\n          // so make a method in child comp execute from the parent comp.\n          // Using a reference to the child comp and trigerring the method.\n          this.gameComponentChild.current!.handlePlayerMove(payload.value, false)\n          break;\n\n        case \"RestartGame\":\n          console.log(\"Got restart game signal: \", payload)\n          this.props.showPopUp(`Game has been restarted by ${this.selectedOpponent!.name}`)\n          this.gameComponentChild.current!.goBackToMove(0, false)\n          break;\n\n        case TextMessageTypes.IncomingTextMessage:\n          this.setState((prevState) => ({\n            allTextMessages: prevState.allTextMessages.concat(payload)\n          }))\n          break;\n      \n        default:\n          break;\n      }\n    }\n  }\n\n  invitePlayer = (availablePlayer: AvailablePlayer) => {\n    this.selectedOpponent = availablePlayer\n    console.log(this.selectedOpponent)\n    this.isInitiator = true\n    this.createPeerConnection(this.isInitiator);\n  }\n\n  sendRejectionResponseToPeers = (peersToReject: Array<socketID>) => {\n    this.socket.emit(\"sendRejectionResponseToPeers\", peersToReject, (resp: SocketResponse) => {\n      if (resp.code !== 200) {\n        this.props.showPopUp(new Error(resp.message))\n      }\n      console.log(resp.message)\n      this.setState((prevState) => {\n        const updatedRequests = new Map(prevState.requestsFromPlayers)\n        peersToReject.forEach((peerSocketID) => updatedRequests.delete(peerSocketID))\n        return {requestsFromPlayers: updatedRequests}\n      })\n    })\n  }\n\n  rejectPlayerRequest = (player: AvailablePlayer) => {\n    this.sendRejectionResponseToPeers([player.socketID])\n  }\n\n  acceptPlayerRequest = (player: AvailablePlayer) => {\n    const peerSignal = this.state.requestsFromPlayers.get(player.socketID) as PeerSignal\n    const peersToReject = Array.from(this.state.requestsFromPlayers.keys()).filter((socketID) => socketID !== player.socketID)\n    this.sendRejectionResponseToPeers(peersToReject)\n    this.selectedOpponent = player\n    this.isInitiator = false\n    this.createPeerConnection(this.isInitiator); // because this client needs to also open RTCPeerConnection to receive the data channel.\n    this.processSignalFromRemotePeer(peerSignal.offer)\n    this.processSignalFromRemotePeer(peerSignal.candidate as CandidateSignal)\n  }\n\n  sendDataToRemotePeer = (payload: Payload) => {\n    switch(this.dataChannel!.readyState) {\n      case \"connecting\":\n        console.log(\"Connection not open; queueing: \" + payload);\n        this.sendQueue.push(payload);\n        break;\n      case \"open\":\n        console.log(\"Sending data: \", payload)\n        this.sendQueue.push(payload);\n        while (this.sendQueue.length) {\n          this.dataChannel!.send(JSON.stringify(this.sendQueue.shift()))\n        }\n        if (payload.type === TextMessageTypes.OutgoingTextMessage) {\n          this.setState((prevState) => ({\n            currentOutgoingTextMessage: \"\",\n            allTextMessages: prevState.allTextMessages.concat(payload)\n          }))\n        }\n        break;\n      case \"closing\":\n        console.log(\"Attempted to send message while closing: \" + payload);\n        break;\n      case \"closed\":\n        console.log(\"Error! Attempt to send while connection closed.\");\n        break;\n      default:\n        console.log(\"should not happen\")\n        break;\n    }\n  }\n\n  sendPlayerMoveCellIDToOpponent = (cellID: number) => {\n    const playerMoveCellID: PlayerMoveCellID = {type: \"PlayerMoveCellID\", value: cellID}\n    this.sendDataToRemotePeer(playerMoveCellID)\n  }\n\n  sendRestartSignalToOpponent = () => {\n    const restartSignal: RestartSignal = {type: \"RestartGame\"}\n    this.sendDataToRemotePeer(restartSignal)\n  }\n\n  handleQuitMatchAndGoBackToAvailablePool = () => {\n    this.dataChannel!.close()\n  }\n\n  showGameAndChat = () => {\n    return (\n      <React.Fragment>\n        <cs.FlexColumnDiv Hcenter limitSizeToContainer cssStyle={`overflow: scroll;`}>\n          <Game\n            gameMode={GameMode.MultiPlayer}\n            ref={this.gameComponentChild}\n            sendPlayerMoveCellIDToOpponent={this.sendPlayerMoveCellIDToOpponent}\n            sendRestartSignalToOpponent={this.sendRestartSignalToOpponent}\n            selfName={this.state.selfName}\n            opponentName={this.selectedOpponent!.name}\n            selfAvatar={this.state.avatarImage}\n            opponentAvatar={this.selectedOpponent!.avatar}\n            isSelfPlayer1={this.isInitiator}\n          />\n          <cs.ColoredText bold>\n            Quit match and join the available pool again? <cs.BasicButton \n              onClick={this.handleQuitMatchAndGoBackToAvailablePool}>Yes</cs.BasicButton>\n          </cs.ColoredText>\n        </cs.FlexColumnDiv>\n        {/* <Chatbox\n          allTextMessages={allTextMessages} \n          handleEnter={this.handleEnter}\n          handleSendTextMessageButton={this.handleSendTextMessageButton}\n          currentOutgoingMessage={currentOutgoingTextMessage}\n          handleInputChange={this.handleInputChange}\n        /> */}\n      </React.Fragment>\n    )\n  }\n\n  showAvailablePlayersRoom = () => {\n    const {availablePlayers, requestsFromPlayers, connectionStatus} = this.state\n    if (availablePlayers.length === 0) {\n      return null\n    }\n    const availablePlayersExceptSelf = availablePlayers.filter((player) => player.socketID !== this.socket.id)\n    const requestsArray = Array.from(requestsFromPlayers.entries()).filter(([_, peerSignal]) => peerSignal.candidate !== null)\n    const requestsMap = new Map(requestsArray)\n    return (\n      <AvailablePlayersRoom \n        invitePlayer={this.invitePlayer} \n        availablePlayers={availablePlayersExceptSelf}\n        connectionStatus={connectionStatus}\n        requests={requestsMap}\n        acceptPlayerRequest={this.acceptPlayerRequest}\n        rejectPlayerRequest={this.rejectPlayerRequest}\n      />\n    )\n  }\n\n  componentDidMount() {\n    this.setIntervalIds = utils.ChangeColors(1000, this.multiPlayerRef, this.nameInputRef, this.basicButtonRef)\n  }\n\n  componentWillUnmount() {\n    console.log(\"clearing the setIntervals \", this.setIntervalIds)\n    this.setIntervalIds.forEach(intervalID => clearInterval(intervalID))\n  }\n\n  render() {\n    console.log(\"state in render: \", this.state)\n    const {selfName, connectionStatus, avatarImage, placeholderForPlayerNameEle, isInAvailablePlayersRoom}= this.state\n    const showJoiningForm = isInAvailablePlayersRoom === false && connectionStatus === null\n    const isConnectedWithOpponent = connectionStatus !== null && connectionStatus.status === \"open\"\n    console.log(\"showJoiningForm: \", showJoiningForm)\n    return (\n      <s.MultiPlayer ref={this.multiPlayerRef}>\n        {\n        showJoiningForm\n        ?\n        <s.JoiningForm>\n          <s.NameInput \n            name=\"playerName\" autoFocus placeholder={placeholderForPlayerNameEle} \n            onKeyUp={this.handleEnter} onChange={this.handleInputChange} value={selfName} \n          />\n          <cs.BasicButton \n            levitate onClick={this.handleJoinRoomClick} whiteTextAndBlackBackground\n          >\n          Join room\n          </cs.BasicButton>\n        </s.JoiningForm>\n        :\n        <React.Fragment>\n          {\n          isConnectedWithOpponent ? this.showGameAndChat() :\n          <React.Fragment>\n            <s.AvatarAndTextContainer>\n              <s.Avatar src={avatarImage} />\n              <cs.ColoredText bold>\n                  You are playing as <cs.ColoredText levitateText bold color=\"black\">{selfName}</cs.ColoredText>\n              </cs.ColoredText>\n            </s.AvatarAndTextContainer>\n            <s.AvailablePlayersAndWaitingAndRequestsContainer>\n              {this.showAvailablePlayersRoom()}\n            </s.AvailablePlayersAndWaitingAndRequestsContainer>\n          </React.Fragment>\n          }\n        </React.Fragment>\n        }\n      </s.MultiPlayer>\n    );\n  }\n}\n\nexport default Multiplayer;","import React from 'react';\nimport * as s from './AppStyle'\nimport Multiplayer from './components/Multiplayer/Multiplayer';\nimport Game from './components/Game/Game';\nimport { ThemeProvider, css } from \"./styled-components\";\nimport * as cs from './components/common'\n\n// GameMode is a union of SinglePlayer and MultiPlayer type\nexport enum GameMode {\n  SinglePlayer = \"SinglePlayer\", // The enum member SinglePlayer can be used as a type, and the only value of that type is the string \"SinglePlayer\"\n  MultiPlayer = \"MultiPlayer\"\n}\ninterface State {\n  popUpValue: any,\n  gameMode: GameMode | null\n}\n\nclass App extends React.Component<{}, State> {\n  constructor() {\n    super({});\n    this.state = {\n      popUpValue: null, gameMode: GameMode.MultiPlayer\n    }\n  }\n\n  showPopUp = (popUpValue: any) => this.setState({popUpValue})\n\n  closePopUp = () => this.setState({popUpValue: null})\n\n  gameModeSelectionButtonHandler = (mode: GameMode) => this.setState({gameMode: mode})\n\n  showViewBasedOnGameMode = (gameMode: GameMode | null) => { // GameMode is a union of SinglePlayer and MultiPlayer type\n    switch (gameMode) {\n\n      case GameMode.MultiPlayer:\n        return (\n          <Multiplayer showPopUp={this.showPopUp}  />\n        )\n    \n      default:\n        break;\n    }\n  }\n\n  popUpView = () => {\n    const {popUpValue} = this.state\n    return (\n      <s.PopUpContainer>\n        <s.PopUp>\n          <s.CloseButton onClick={this.closePopUp}>X</s.CloseButton>\n          <cs.ColoredText color=\"white\">{popUpValue}</cs.ColoredText>\n        </s.PopUp>\n      </s.PopUpContainer>\n    )\n  }\n\n  render() {\n    const {popUpValue, gameMode} = this.state\n    return (\n      <ThemeProvider theme={s.Theme}>\n        <React.Fragment>\n          <s.GlobalStyle />\n          <s.AppWrapper>\n            {popUpValue && this.popUpView()}\n            {this.showViewBasedOnGameMode(gameMode)}\n          </s.AppWrapper>\n        </React.Fragment>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default (App);","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById(\"root\") as HTMLElement\n)\n"],"sourceRoot":""}